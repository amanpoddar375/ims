{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PostService } from '../../core/services/post.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../core/services/post.service\";\nimport * as i3 from \"@angular/common\";\nfunction PostDetailComponent_section_0_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PostDetailComponent_section_0_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.closePost());\n    });\n    i0.ɵɵtext(1, \"Mark Closed\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PostDetailComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 1)(1, \"header\", 2)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\n    i0.ɵɵtext(10, \"Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementStart(12, \"strong\");\n    i0.ɵɵtext(13, \"Priority:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\")(16, \"strong\");\n    i0.ɵɵtext(17, \"Author:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, PostDetailComponent_section_0_button_19_Template, 2, 0, \"button\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.post.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.post.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.post.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.post.type, \" | \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.post.priority || \"N/A\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.post.authorUsername, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.post.status === \"RESOLVED\");\n  }\n}\nexport let PostDetailComponent = /*#__PURE__*/(() => {\n  class PostDetailComponent {\n    constructor(route, postService, router) {\n      this.route = route;\n      this.postService = postService;\n      this.router = router;\n    }\n    ngOnInit() {\n      const id = Number(this.route.snapshot.paramMap.get('id'));\n      this.postService.get(id).subscribe(res => this.post = res.data);\n    }\n    closePost() {\n      if (!this.post) return;\n      this.postService.updateStatus(this.post.id, 'CLOSED').subscribe(() => this.router.navigate(['/']));\n    }\n    static {\n      this.ɵfac = function PostDetailComponent_Factory(t) {\n        return new (t || PostDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PostService), i0.ɵɵdirectiveInject(i1.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PostDetailComponent,\n        selectors: [[\"app-post-detail\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"card\", 4, \"ngIf\"], [1, \"card\"], [1, \"header\"], [1, \"badge\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"]],\n        template: function PostDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, PostDetailComponent_section_0_Template, 20, 7, \"section\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.post);\n          }\n        },\n        dependencies: [CommonModule, i3.NgIf],\n        styles: [\".card[_ngcontent-%COMP%]{padding:1.5rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.badge[_ngcontent-%COMP%]{background:#f1f5f9;padding:.2rem .5rem;border-radius:4px}button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#22c55e;color:#fff;border:none;border-radius:4px;cursor:pointer}\"]\n      });\n    }\n  }\n  return PostDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}